buildscript {
	repositories {
		maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }
		maven { url "https://maven.aliyun.com/repository/spring-plugin" }
		gradlePluginPortal()
//		mavenCentral()
		maven { url 'https://plugins.gradle.org/m2/' }
	}
	dependencies {
		classpath "org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:3.3"
	}
}

ext {
	set('signing.keyId', System.getenv('signing.keyId'))
	set('signing.password', System.getenv('signing.password'))
	set('signing.secretKeyRingFile', System.getenv('signing.secretKeyRingFile'))
//	set('deployUsername',System.getenv('NEXUS_OSS_USER_NAME'))
//	set('deployPassword',System.getenv('NEXUS_OSS_PASS_WORD'))
	set('deployUsername', NEXUS_OSS_USER_NAME)
	set('deployPassword', NEXUS_OSS_PASS_WORD)
}


//nexusPublishing {
//	repositories {
//		sonatype {
//			username = deployUsername
//			password = deployPassword
//		}
//	}
//}

configure(subprojects.findAll { it.name.startsWith('jcohy-') }) {

	version = VERSION
	group = GROUPID
}

//asciidoctor {
//	baseDirFollowsSourceDir()
//	options doctype: 'book'
//	attributes(
//			'idprefix' : '',
//			'idseparator':'-',
//			'toc':'left',
//			'toclevels':4,
//			'tabsize':4,
//			'icons':'font',
//			'source-indent':0,
//			'docinfo':'shared,private',
//	)
//	configurations "asciidoctorExtensions"
//	sourceDir "src/docs/asciidoc"
//	sources {
//		include '*.adoc'
//	}
//	outputOptions {
//		backends "spring-html"
//	}
//
//	resources {
//		from(sourceDir) {
//			include 'img/**'
//		}
//	}
//	doLast {
//		delete(file(buildDir.path + '/docs/asciidoc/img/banner-logo.svg'))
//		copy {
//			from file(projectDir.path + '/src/docs/asciidoc/img/banner-logo.svg')
//			into file(buildDir.path + "/docs/asciidoc//img")
//		}
//	}
//}